\documentclass[]{standalone}

\usepackage{rotfig}

\begin{document}

\def\px{1.5}
\def\py{1.5}


%% (transform (tf* (z-angle (degrees 30)) (vec3* 3 2 0)) (vec3* 1.5 1.5 0))

\def\thetab{30}
\def\xb{3}
\def\yb{2}
\def\pxa{3.549}
\def\pya{4.049}

\def\thetac{-60}
\def\xc{2.75}
\def\yc{-2.75}


\begin{tikzpicture}[scale=1,font=\Large]

    \xyaxes{a}{3.}{$\unitvec{x}_a$}{$\unitvec{y}_a$}

    \begin{scope}[
      shift={(\xb,\yb)},
      rotate=\thetab,
      ]
      \xyaxes{b}{3.5}{$\unitvec{x}_b$}{$\unitvec{y}_b$}

      \node[circle,
      fill=black,
      inner sep=0,
      minimum width=.5em
      ]
      at (\px,\py) (p)
      {};
      \node[above right of=p,node distance=1em] {$p$};

      %\draw[length] (p) -- (\px,0);
      \ndiml{p}{\px,0}{$\mytf{y}{b}{p}$};
      \ndiml{p}{0,\py}{$\mytf{x}{b}{p}$};

      \draw[<->,fbdann,>=stealth] (1,0) arc  (0:-\thetab:1) ;
    \end{scope}
      \node[fbdann,anchor=west] at ($(b)+(1,.25)$)
      {$\mytf{\theta}{a}{b}$, $\mytf{\unitvec{u}}{a}{b}$};

     \draw[dotted] (b) edge ++(2,0) ;

    \node[coordinate] at ($(p)-(0,3)$) (py) {};
    \node[coordinate] at ($(p)-(3,0)$) (px) {};

    \draw[dotted]
    (p) edge  ($(px)-(0,0)$)
    (p) edge  ($(py)-(0,0)$)
    ;

    \node[coordinate] at (\pxa,1) (ax) {};
    \node[coordinate] at (1,\pya) (ay) {};

    \ndiml{0,1}{ax}{$\mytf{x}{a}{p}$};
    \ndiml{1,0}{ay}{$\mytf{y}{a}{p}$};

\end{tikzpicture}


\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
